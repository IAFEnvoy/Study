<!DOCTYPE html>

<head>
    <title>上海高考文言文300实词自测</title>
</head>

<body>
    <h1>上海高考文言文300实词查询</h1>
    <input id="keyword" placeholder="输入实词单字查询..."></input>
    <button onclick="search()">查找</button>
    <table id="result" border="1"></table>
    <script>
        let data = null;
        window.onload = async () => {
            data = await fetch('https://' + window.location.host + '/data/test.json').then(res => res.json())
        }
        const search = () => {
            document.getElementById('result').innerText == '';
            let keyword = document.getElementById('keyword').value;
            for (let i = 0; i < data.length; i++)
                if (data[i][1] != null && data[i][1] == keyword) {
                    document.getElementById('result').innerText += `<tr><td>${data[i].join('</td><td>')}</td></tr>`;
                    i++;
                    while (data[i][1] == null) {
                        document.getElementById('result').innerText += `<tr><td>${data[i].join('</td><td>')}</td></tr>`;
                        i++;
                    }
                }
            if (document.getElementById('result').innerText == '')
                document.getElementById('result').innerText = '未找到搜索结果'
        }
    </script>
</body>